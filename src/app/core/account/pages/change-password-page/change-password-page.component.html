<div class="container">
  <div class="row justify-content-center">
    <div class="col-6">
      <div class="card shadow">
        <div class="card-body">
          <form
            id="changePasswordForm"
            [formGroup]="form"
            (ngSubmit)="form.valid && savePassword()">
            <div class="row">
              <div class="col">
                <div class="form-floating mb-3">
                  <input
                    class="form-control"
                    id="oldPassword"
                    formControlName="oldPassword"
                    [type]="isOldPasswordVisible() ? 'text' : 'password'">

                  <button
                    type="button"
                    class="password-eye-btn"
                    (click)="isOldPasswordVisible.set(!isOldPasswordVisible())"
                    [class.active]="isOldPasswordVisible()">

                    <svg xmlns="http://www.w3.org/2000/svg"
                         id="Capa_1" x="0px" y="0px" viewBox="0 0 512.19 512.19"
                         style="enable-background:new 0 0 512.19 512.19;" xml:space="preserve" width="22" height="22">
                                <g>
                                  <path fill="currentColor"
                                        d="M496.543,200.771c-19.259-31.537-43.552-59.707-71.915-83.392l59.733-59.733c8.185-8.475,7.95-21.98-0.525-30.165   c-8.267-7.985-21.374-7.985-29.641,0l-64.96,65.045c-40.269-23.918-86.306-36.385-133.141-36.053   c-132.075,0-207.339,90.411-240.448,144.299c-20.862,33.743-20.862,76.379,0,110.123c19.259,31.537,43.552,59.707,71.915,83.392   l-59.733,59.733c-8.475,8.185-8.71,21.691-0.525,30.165c8.185,8.475,21.691,8.71,30.165,0.525c0.178-0.172,0.353-0.347,0.525-0.525   l65.109-65.109c40.219,23.915,86.201,36.402,132.992,36.117c132.075,0,207.339-90.411,240.448-144.299   C517.405,277.151,517.405,234.515,496.543,200.771z M128.095,255.833c-0.121-70.575,56.992-127.885,127.567-128.006   c26.703-0.046,52.75,8.275,74.481,23.793l-30.976,30.976c-13.004-7.842-27.887-12.022-43.072-12.096   c-47.128,0-85.333,38.205-85.333,85.333c0.074,15.185,4.254,30.068,12.096,43.072l-30.976,30.976   C136.414,308.288,128.096,282.394,128.095,255.833z M256.095,383.833c-26.561-0.001-52.455-8.319-74.048-23.787l30.976-30.976   c13.004,7.842,27.887,12.022,43.072,12.096c47.128,0,85.333-38.205,85.333-85.333c-0.074-15.185-4.254-30.068-12.096-43.072   l30.976-30.976c41.013,57.434,27.702,137.242-29.732,178.255C308.845,375.558,282.798,383.879,256.095,383.833z"/>
                                </g>
                    </svg>
                  </button>

                  <label
                    class="form-label"
                    for="oldPassword">
                    Старий пароль:
                  </label>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col">
                <div class="form-floating mb-3">
                  <input
                    class="form-control"
                    id="newPassword"
                    formControlName="newPassword"
                    [type]="isNewPasswordVisible() ? 'text' : 'password'">

                  <button
                    type="button"
                    class="password-eye-btn"
                    (click)="isNewPasswordVisible.set(!isNewPasswordVisible())"
                    [class.active]="isNewPasswordVisible()">

                    <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" x="0px" y="0px" viewBox="0 0 512.19 512.19"
                         style="enable-background:new 0 0 512.19 512.19;" xml:space="preserve" width="22"
                         height="22">
                                <g>
                                  <path fill="currentColor"
                                        d="M496.543,200.771c-19.259-31.537-43.552-59.707-71.915-83.392l59.733-59.733c8.185-8.475,7.95-21.98-0.525-30.165   c-8.267-7.985-21.374-7.985-29.641,0l-64.96,65.045c-40.269-23.918-86.306-36.385-133.141-36.053   c-132.075,0-207.339,90.411-240.448,144.299c-20.862,33.743-20.862,76.379,0,110.123c19.259,31.537,43.552,59.707,71.915,83.392   l-59.733,59.733c-8.475,8.185-8.71,21.691-0.525,30.165c8.185,8.475,21.691,8.71,30.165,0.525c0.178-0.172,0.353-0.347,0.525-0.525   l65.109-65.109c40.219,23.915,86.201,36.402,132.992,36.117c132.075,0,207.339-90.411,240.448-144.299   C517.405,277.151,517.405,234.515,496.543,200.771z M128.095,255.833c-0.121-70.575,56.992-127.885,127.567-128.006   c26.703-0.046,52.75,8.275,74.481,23.793l-30.976,30.976c-13.004-7.842-27.887-12.022-43.072-12.096   c-47.128,0-85.333,38.205-85.333,85.333c0.074,15.185,4.254,30.068,12.096,43.072l-30.976,30.976   C136.414,308.288,128.096,282.394,128.095,255.833z M256.095,383.833c-26.561-0.001-52.455-8.319-74.048-23.787l30.976-30.976   c13.004,7.842,27.887,12.022,43.072,12.096c47.128,0,85.333-38.205,85.333-85.333c-0.074-15.185-4.254-30.068-12.096-43.072   l30.976-30.976c41.013,57.434,27.702,137.242-29.732,178.255C308.845,375.558,282.798,383.879,256.095,383.833z"/>
                                </g>
                    </svg>
                  </button>

                  <label
                    class="form-label"
                    for="newPassword">
                    Новий пароль:
                  </label>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col">
                <div class="form-floating mb-3">
                  <input
                    class="form-control"
                    id="confirmPassword"
                    formControlName="confirmPassword"
                    [type]="isConfirmPasswordVisible() ? 'text' : 'password'">

                  <button
                    type="button"
                    class="password-eye-btn"
                    (click)="isConfirmPasswordVisible.set(!isConfirmPasswordVisible())"
                    [class.active]="isConfirmPasswordVisible()">

                    <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" x="0px" y="0px" viewBox="0 0 512.19 512.19"
                         style="enable-background:new 0 0 512.19 512.19;" xml:space="preserve" width="22" height="22">
                                <g>
                                  <path fill="currentColor"
                                        d="M496.543,200.771c-19.259-31.537-43.552-59.707-71.915-83.392l59.733-59.733c8.185-8.475,7.95-21.98-0.525-30.165   c-8.267-7.985-21.374-7.985-29.641,0l-64.96,65.045c-40.269-23.918-86.306-36.385-133.141-36.053   c-132.075,0-207.339,90.411-240.448,144.299c-20.862,33.743-20.862,76.379,0,110.123c19.259,31.537,43.552,59.707,71.915,83.392   l-59.733,59.733c-8.475,8.185-8.71,21.691-0.525,30.165c8.185,8.475,21.691,8.71,30.165,0.525c0.178-0.172,0.353-0.347,0.525-0.525   l65.109-65.109c40.219,23.915,86.201,36.402,132.992,36.117c132.075,0,207.339-90.411,240.448-144.299   C517.405,277.151,517.405,234.515,496.543,200.771z M128.095,255.833c-0.121-70.575,56.992-127.885,127.567-128.006   c26.703-0.046,52.75,8.275,74.481,23.793l-30.976,30.976c-13.004-7.842-27.887-12.022-43.072-12.096   c-47.128,0-85.333,38.205-85.333,85.333c0.074,15.185,4.254,30.068,12.096,43.072l-30.976,30.976   C136.414,308.288,128.096,282.394,128.095,255.833z M256.095,383.833c-26.561-0.001-52.455-8.319-74.048-23.787l30.976-30.976   c13.004,7.842,27.887,12.022,43.072,12.096c47.128,0,85.333-38.205,85.333-85.333c-0.074-15.185-4.254-30.068-12.096-43.072   l30.976-30.976c41.013,57.434,27.702,137.242-29.732,178.255C308.845,375.558,282.798,383.879,256.095,383.833z"/>
                                </g>
                    </svg>
                  </button>

                  <label
                    class="form-label"
                    for="confirmPassword">
                    Підтвердіть новий пароль:
                  </label>
                </div>
              </div>
            </div>

            <div *ngIf="form.errors?.['passwordsNotMatch'] && form.get('confirmPassword')?.touched">
              <p style="color: var(--pink-color)">Новий пароль та підтверджений пароль не співпадають</p>
            </div>

            <div class="row justify-content-end">
              <div class="col-lg-6 col-md-6">
                <div class="form-floating mb-3 d-flex justify-content-end">
                  <button
                    class="btn btn-primary"
                    type="submit"
                    form="changePasswordForm"
                    [disabled]="form.invalid"
                  > Зберегти
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
